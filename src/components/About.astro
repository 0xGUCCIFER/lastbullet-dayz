---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import Card from './ui/Card.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const cards = [
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/></svg>`,
    title: t('about.card1.title'),
    desc: t('about.card1.desc'),
    stat: '100%',
    statLabel: 'PVP',
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3l1.912 5.813a2 2 0 0 0 1.275 1.275L21 12l-5.813 1.912a2 2 0 0 0-1.275 1.275L12 21l-1.912-5.813a2 2 0 0 0-1.275-1.275L3 12l5.813-1.912a2 2 0 0 0 1.275-1.275z"/></svg>`,
    title: t('about.card2.title'),
    desc: t('about.card2.desc'),
    stat: '50+',
    statLabel: 'MODS',
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>`,
    title: t('about.card3.title'),
    desc: t('about.card3.desc'),
    stat: '500+',
    statLabel: lang === 'de' ? 'SPIELER' : 'PLAYERS',
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="m9 12 2 2 4-4"/></svg>`,
    title: t('about.card4.title'),
    desc: t('about.card4.desc'),
    stat: '24/7',
    statLabel: 'ONLINE',
  },
];
---

<section id="about" class="py-24 relative worn-texture">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <!-- Section Header with HUD styling -->
    <div class="text-center mb-16">
      <p class="hud-label mb-3">// {lang === 'de' ? 'DATENBANK' : 'DATABASE'} :: SEC.01</p>
      <h2 class="text-4xl sm:text-5xl font-bold mb-4">{t('about.title')}</h2>
      <p class="text-text-secondary text-lg">{t('about.subtitle')}</p>
      <div class="mil-divider mt-6">
        <span class="w-2 h-2 rotate-45 bg-accent" />
      </div>
    </div>

    <!-- Cards Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
      {cards.map((card, i) => (
        <Card class="text-center group relative overflow-hidden" data-scroll-reveal style={`animation-delay: ${i * 0.1}s`}>
          <!-- Corner brackets -->
          <div class="absolute top-2 left-2 w-4 h-4 bracket-tl border-accent/20 group-hover:border-accent/50 transition-colors" />
          <div class="absolute top-2 right-2 w-4 h-4 bracket-tr border-accent/20 group-hover:border-accent/50 transition-colors" />

          <div class="w-16 h-16 rounded-xl bg-accent/10 border border-accent/20 flex items-center justify-center mx-auto mb-4 text-accent group-hover:bg-accent/20 transition-colors">
            <Fragment set:html={card.icon} />
          </div>
          <h3 class="text-lg font-semibold mb-2">{card.title}</h3>
          <p class="text-text-secondary text-sm leading-relaxed mb-4">{card.desc}</p>

          <!-- Stat counter -->
          <div class="pt-3 border-t border-border">
            <span class="font-[family-name:var(--font-military)] text-2xl text-accent font-bold">{card.stat}</span>
            <span class="block text-[10px] text-text-muted tracking-widest mt-0.5">{card.statLabel}</span>
          </div>
        </Card>
      ))}
    </div>
  </div>
</section>
